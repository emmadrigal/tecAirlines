<!DOCTYPE html>

<!-- define angular app -->
<html ng-app="tecAirlineApp">

<head>
  <!-- SCROLLS -->
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" />

  <!-- SPELLS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-route.js"></script>
  <script src="ui-bootstrap-tpls-2.5.0.min.js" type="text/javascript"></script>
  <script src="script.js"></script>
  <link rel="stylesheet" type="text/css" href="css/tecAirlines.css">
</head>

<!-- define angular controller -->
<body ng-controller="mainController">

  <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/" style="color: rgba(255, 255, 255, 1);">TEC-Airlines</a>
    </div>

    <ul class="nav navbar-nav navbar-right">
      <li><a ng-click="openSignupForm()" style="color: rgba(255, 255, 255, 1);" ng-if="!isLogged">Sign Up</a></li>
      <li><a ng-click="openLoginForm()" style="color: rgba(255, 255, 255, 1);" ng-if="!isLogged">Login</a></li>
      <li uib-dropdown on-toggle="toggled(open)">
        <a href id="simple-dropdown" class="nav-text" uib-dropdown-toggle ng-if="isLogged">Signed in as {{user.username}} <span class="caret"></span></a>
        <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
            <li><a ng-click="openProfileInfoForm()">Modify Profile Info</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Booked Flights List</a></li>
            <li role="separator" class="divider"></li>
            <li><a ng-click="openCancelReservationForm()">Cancel A Reservation</a></li>
            <li role="separator" class="divider"></li>
            <li><a uib-popover="You have {{user.frequentFlyerMiles}} miles" popover-trigger="'mouseenter'" popover-placement="left">Check Miles</a></li>
            <li role="separator" class="divider"></li>
            <li><a ng-click="logout()">Sign Out</a></li>

        </ul>
      </li>
    </ul>
  </div>
</nav>

  <script type="text/ng-template" id="reservationForm.html">
    <table class="table">
      <tr ng-repeat="x in getNumber() track by $index">
        <td>Passanger {{$index+1}}</td>
        <td>
          <div class="container">
            <form>
              <div class="col-md-6 form-group">
                <label>Name</label>
                <input class="form-control" type="text"/>
              </div>
              <div class="col-md-6 form-group">
                <label>Email</label>
                <input class="form-control" type="text"/>
              </div>
              <div class="col-md-6 form-group">
                <label>First Surname</label>
                <input class="form-control" type="text"/>
                <label>Second Surname</label>
                <input class="form-control" type="text"/>
              </div>
              <div class="col-md-6 form-group">
                <label>First Surname</label>
                <input class="form-control" type="text"/>
                <label>Second Surname</label>
                <input class="form-control" type="text"/>
              </div>
            </form>
          </div>
        </td>
      </tr>
    </table>
    <div>
      <button type="submit" class="btn btn-default" ng-click="goBack()">Back</button>
      <button type="submit" class="btn btn-default" ng-click="openPaymentForm()">Accept</button>
    </div>
  </script>

  <script type="text/ng-template" id="paymentForm.html">
    <form>
      <div class="col-md-12 form-group">
        <label>Card Number</label>
        <input class="form-control" type="text"/>
        <label>Expiration Date</label>
        <input class="form-control" type="text"/>
        <label>Security Code</label>
        <input class="form-control" type="text"/>
      </div>
      <button type="submit" class="btn btn-default" ng-click="goBack()">Back</button>
      <button type="submit" class="btn btn-default">Finish Reservation</button>
    </form>
  </script>

  <script type="text/ng-template" id="cancelReservationForm.html">
    <form>
      <table>
        <tr ng-repeat="x in listFlights">
          <td>{{x.id}}</td>
          <td>{{x.depATO}}</td>
          <td>{{x.arrivATO}}</td>
          <td>{{x.duration}}</td>
          <td>{{x.price}}</td>
          <td>{{x.depTime}}</td>
          <td>{{x.arrivTime}}</td>
          <td><button ng-click="">Cancel Reservation</button></td>
        </tr>
      </table>
      <div>
        <button ng-click="goBack()">Back</button>
      </div>
    </form>
  </script>

  <script type="text/ng-template" id="profileInfoForm.html">
    <form>
      <div>
        <label>Name</label>
        <input class="form-control" type="text" id="newName" ng-model="newName" ng-init="newName=user.name">
      </div>
      <div>
        <label>First Surname</label>
        <input class="form-control" type="text" id="newFirstSurname" ng-model="newFirstSurname" ng-init="newFirstSurname=user.firstSurname">
      </div>
      <div>
        <label>Second Surname</label>
        <input class="form-control" type="text" id="newSecondSurname" ng-model="newSecondSurname" ng-init="newSecondSurname=user.secondSurname"/
      </div>
      <div>
        <label>Telephone Number</label>
        <input class="form-control" type="text" id="newTelephoneNumber" ng-model="newTelephoneNumber" ng-init="newTelephoneNumber=user.telephoneNumber">
      </div>
      <div>
        <label>Username</label>
        <input class="form-control" type="text" id="newUserName" ng-model="newUserName" ng-init="newUserName=user.username">
      </div>
      <div>
        <label>Password</label>
        <input class="form-control" type="text" id="newPassword" ng-model="newPassword" ng-init="newPassword=user.password">
      </div>
      <div>
        <label>Birthdate</label>
        <input class="form-control" type="text" id="newBirthdate" ng-model="newBirthdate" ng-init="newBirthdate=user.birthdate">
      </div>
      <div>
        <label>Email</label>
        <input class="form-control" type="text" id="newEmail" ng-model="newEmail" ng-init="newEmail=user.email">
      </div>
      <div>
        <label>ID</label>
        <input class="form-control" type="text" id="newID" ng-model="newID" ng-init="newID=user.identification">
      </div>
      <div>
        <button ng-click="goBack()">Cancel</button>
        <button ng-click="saveInfo()">Save</button>
      </div>
    </form>
  </script>

  <script type="text/ng-template" id="signupForm.html">
    <div class="modal-header">
      <h4 class="modal-title" id="myModalLabel"> NEW CLIENT INFORMATION </h4>
    </div> 

      <!-- Modal Body -->
    <div class="modal-body">
      <form class="form-horizontal">
        <div class="form-group">
            <label class="control-label col-sm-2">Name:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="newClientName" ng-model="newClientName" placeholder="Enter name">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Last Name:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="newClientLastName" ng-model="newClientLastName" placeholder="Enter name">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">ID:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="newClientID" ng-model="newClientID" placeholder="Enter Identification Number">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Email:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="newClientEmail" ng-model="newClientEmail" placeholder="Enter Email">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Phone Number:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="newClientPhoneNumber" ng-model="newClientPhoneNumber" placeholder="Enter Phone Number">
            </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-2">Birthday:</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" ng-model="startDate">
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-10">
            <button type="button" class="btn btn-fb"><i class="fa fa-facebook"></i></button>
            <label>Sign Up With Facebook</label>
          </div>
        </div>
      </form>
    </div>
          
    <!-- Modal Footer -->
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" ng-click=""> Sign Up </button>
    </div>
  </script>

  <script type="text/ng-template" id="loginForm.html">
    <div class="modal-header">
      <h4 class="modal-title" id="myModalLabel">Log In</h4>
    </div> 

      <!-- Modal Body -->
    <div class="modal-body">
      <form class="form-horizontal">
        <div class="form-group">
            <label class="control-label col-sm-2">Username:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="clientUsername" ng-model="clientUsername" placeholder="Enter Username">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Password:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="clientPassword" ng-model="clientPassword" placeholder="Enter password">
            </div>
        </div>
        <div class="form-group">
          <div class="col-sm-10">
            <button type="button" class="btn btn-fb"><i class="fa fa-facebook"></i></button>
            <label>Log In With Facebook</label>
          </div>
        </div>
      </form>
    </div>
          
    <!-- Modal Footer -->
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" ng-click="login()">Log In</button>
    </div>
  </script>

  <div id="main">
  
    <!-- angular templating -->
		<!-- this is where content will be injected -->
    <div ng-view></div>
    
  </div>
</body>

<footer class="text-center">
    <div ng-controller="promotionController">
      <div style="height: 305px">
        <div uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides">
          <div uib-slide ng-repeat="slide in slides track by slide.id" index="slide.id">
            <img ng-src="{{slide.image}}" style="margin:auto;">
          </div>
        </div>
      </div>
    </div>
    <div class="navbar navbar-default">
      <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">TEC-Airlines</a>
    </div>

    <ul class="nav navbar-nav navbar-right">
      <li><a>About</a></li>
      <li><a>Contact</a></li>
    </ul>
  </div>
    </div>
</footer>

</html>